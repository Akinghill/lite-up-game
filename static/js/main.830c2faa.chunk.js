(this.webpackJsonplumin=this.webpackJsonplumin||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a(36)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),s=a.n(o),i=(a(20),a(2)),l=a(3),c=a(5),m=a(4),u=(a(21),a(11)),h=(a(22),n.Component,a(6)),d=(a(13),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={loginEmail:"",loginPassword:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){switch(e.target.id){case"loginEmail":this.setState({loginEmail:e.target.value});break;case"loginPassword":this.setState({loginPassword:e.target.value})}}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.loginEmail,password:this.state.loginPassword},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("http://localhost:5000/users/login",n).then((function(e){return e.json()})).then((function(e){console.log(e),e._id&&(console.log("found the user"),t.props.loadUser(e),t.props.onRouteChange("home"))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-window border"},r.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Sign In"),r.a.createElement("label",{forhtml:"email",className:"vhide"},"Email"),r.a.createElement("input",{id:"loginEmail",name:"email",type:"text",placeholder:"Email",required:!0,minLength:"2",onChange:this.handleChange}),r.a.createElement("label",{forhtml:"password",className:"vhide"},"Password"),r.a.createElement("input",{id:"loginPassword",name:"password",type:"text",placeholder:"Password",required:!0,minLength:"6",onChange:this.handleChange}),r.a.createElement("button",{type:"submit",className:"signin"},"Sign in"),r.a.createElement("button",{className:"signin",onClick:function(){return e.props.onRouteChange("register")}},"Register"))))}}]),a}(n.Component)),g=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={nameVal:"",emailVal:"",passVal:"",pass2Val:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){switch(e.target.id){case"name":this.setState({nameVal:e.target.value});break;case"email":this.setState({emailVal:e.target.value});break;case"password":this.setState({passVal:e.target.value});break;case"password2":this.setState({pass2Val:e.target.value})}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={name:this.state.nameVal,email:this.state.emailVal,password:this.state.passVal,password2:this.state.pass2Val},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("http://localhost:5000/users/register",a).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),this.props.onRouteChange("home")}},{key:"render",value:function(){return r.a.createElement("div",{className:"register-window border"},r.a.createElement("form",{className:"register-form",onSubmit:this.handleSubmit},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Register"),r.a.createElement("label",{htmlFor:"name",className:"vhide"},"Name"),r.a.createElement("input",{type:"text",id:"name",name:"name",className:"form-control",placeholder:"Name",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"email",className:"vhide"},"Email"),r.a.createElement("input",{id:"email",name:"email",type:"email",placeholder:"Email",required:!0,minLength:"2",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password",className:"vhide"},"Password"),r.a.createElement("input",{id:"password",name:"password",type:"password",placeholder:"Password",required:!0,minLength:"6",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password2",className:"vhide"},"Confirm Password"),r.a.createElement("input",{type:"password",id:"password2",name:"password2",placeholder:"Confirm Password",onChange:this.handleChange}),r.a.createElement("button",{type:"submit",className:"signin"},"Register"))))}}]),a}(n.Component),f=(a(23),a(24),function(e){var t=e.isOn,a=e.id;return t?r.a.createElement("div",{className:"GameSquare OFF",id:a}," "):r.a.createElement("div",{className:"GameSquare ON",id:a}," ")}),p=function(e){var t=e.gameState;return r.a.createElement("div",{className:"gameBoard"},t.map((function(e,a){return r.a.createElement("div",{className:"row",id:"row".concat(a),key:a},e.map((function(e,n){return r.a.createElement(f,{key:n,isOn:t[a][n],id:"".concat(a).concat(n)})})))})))},v=a(7),E=a(8),b=(a(30),function(e){e.score;return r.a.createElement("div",{className:"restart",id:"restart"},r.a.createElement(v.a,{id:"restartIcon",icon:E.b}))}),S=(a(31),function(e){var t=e.buttonText,a=e.id,n=e.passClass,o=e.onClick;return r.a.createElement("div",{className:"button ".concat(n),id:a,onClick:o},t)}),w=(a(32),function(e){var t=e.score;e.gameWon,e.isSignedIn,e.user;return r.a.createElement("div",{className:"game-hud"},r.a.createElement("div",{className:"flexrow"},r.a.createElement("p",{id:"score"},"Moves: ",t),r.a.createElement(b,null)))}),C=(a(33),function(e){e.onRouteChange;return r.a.createElement("div",{className:"win-screen"},r.a.createElement("h1",{className:"win-text"},"You win"),r.a.createElement("div",{className:"win-options"},r.a.createElement(S,{buttonText:"Login",id:"login"}),r.a.createElement(S,{buttonText:"Play Again",id:"play-again"})))}),N=(a(34),function(){return r.a.createElement("h1",{id:"title"},"LUMiN")}),y=function(e){var t=e.gameState,a=e.score,n=e.gameWon,o=e.onRouteChange,s=e.user;return r.a.createElement("div",{className:"game"},r.a.createElement(N,null),r.a.createElement(p,{gameState:t}),r.a.createElement(w,{score:a,gameWon:n,user:s}),n?r.a.createElement(C,{onRouteChange:o}):null)},O=(n.Component,a(35),function(){return r.a.createElement(v.a,{icon:E.a,id:"menu-icon"})});function k(e){for(var t=e,a=0;a<=1e3;a++){var n=Math.floor(5*Math.random()),r=Math.floor(5*Math.random()),o=[n+1,n-1,r+1,r-1];t[n][r]=1-t[n][r],o[0]<=4&&(t[o[0]][r]=1-t[o[0]][r]),o[1]>=0&&(t[o[1]][r]=1-t[o[1]][r]),o[2]<=4&&(t[n][o[2]]=1-t[n][o[2]]),o[3]>=0&&(t[n][o[3]]=1-t[n][o[3]])}return t}function j(){for(var e=[],t=0;t<5;t++){for(var a=[],n=0;n<5;n++)a.push(0);e.push(a)}return e}var R=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).loadUser=function(e){n.setState({user:{id:e.id,name:e.name,email:e.email,scores:e.scores}})},n.handleClick=function(e){var t=e.target.id;if("debugger"===t){var a=n.state.user;a.scores.push(n.state.score),n.setState({user:a,gameWon:!0},(function(){return n.postScore()}))}if("restart"!==t&&"restartIcon"!==t&&"play-again"!==t||n.setState({score:0,gameState:k(j()),gameWon:!1}),"login"===t&&n.setState({route:"login"}),function(e){return e>=0&&e<=44&&!isNaN(e[0])}(t)){var r=function(e,t){var a=parseInt(e[0]),n=parseInt(e[1]),r=[a+1,a-1,n+1,n-1];return t[a][n]=1-t[a][n],r[0]<=4&&(t[r[0]][n]=1-t[r[0]][n]),r[1]>=0&&(t[r[1]][n]=1-t[r[1]][n]),r[2]<=4&&(t[a][r[2]]=1-t[a][r[2]]),r[3]>=0&&(t[a][r[3]]=1-t[a][r[3]]),t}(t,n.state.gameState);if(function(e){if(0===e.gameState.flat(2).reduce((function(e,t){return e+t}),0))return!0}(n.state)){var o=n.state.user;o.scores.push(n.state.score),n.setState({user:o,gameWon:!0},(function(){return n.postScore()}))}n.setState({score:Number(n.state.score)+1,gameState:r})}},n.onRouteChange=function(e){n.setState({route:e})},n.state={gameWon:!1,score:0,gameState:[],route:"home",highScoreData:[],isSignedIn:!1,user:{id:"",name:"",email:"",scores:[],joined:""}},n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.setState({gameState:k(j())})}},{key:"postScore",value:function(){var e=this;if(this.state.gameWon&&""!==this.state.user.email){var t={user:this.state.user};fetch("http://localhost:5000/users/newscore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.loadUser(t)})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){var e=this.state,t=e.score,a=e.gameState,n=e.gameWon,o=e.route,s=e.user;return r.a.createElement("div",{onClick:this.handleClick,className:"App"},"register"===o?r.a.createElement(g,{onRouteChange:this.onRouteChange}):"login"===o?r.a.createElement(d,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}):null,r.a.createElement(y,{score:t,gameState:a,gameWon:n,onRouteChange:this.onRouteChange,user:s}),r.a.createElement(O,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.830c2faa.chunk.js.map